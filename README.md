# Chequeman

–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã–º–∏ —á–µ–∫–∞–º–∏ –æ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –±–æ—Ç–æ–≤ (XRocket, CryptoBot –∏ –¥—Ä.).

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

Chequeman ‚Äî —ç—Ç–æ –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Kotlin –∏ Spring Boot –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã—Ö —á–µ–∫–æ–≤ —á–µ—Ä–µ–∑ Telegram. –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫—Ä–∏–ø—Ç–æ–±–æ—Ç–∞–º–∏, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—É–±–ª–∏–∫–∞—Ü–∏—é –≤ –∫–∞–Ω–∞–ª—ã –∏ WebSocket –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä—ë—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π:

### üîµ Client
–ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Spring Boot, –∫–æ—Ç–æ—Ä–æ–µ:
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ HTTP REST API –∏ WebSocket
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å Telegram Bot API –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —á–µ–∫–æ–≤ –≤ –∫–∞–Ω–∞–ª—ã
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ —á–µ–∫–∏ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∏—Ö –≤ Markdown
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å PostgreSQL –∏–ª–∏ H2 –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- Spring Boot
- Spring Data JPA
- Spring WebSocket
- Telegram Bot API
- CommonMark (–¥–ª—è Markdown)
- PostgreSQL / H2

### üî¥ Server
–°–µ—Ä–≤–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Spring Boot, –∫–æ—Ç–æ—Ä–æ–µ:
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ–∫–∞–º–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —á–µ–∫–∏ –æ—Ç –∫—Ä–∏–ø—Ç–æ–±–æ—Ç–æ–≤ (XRocket, CryptoBot)
- –£–ø—Ä–∞–≤–ª—è–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ —Ç–æ–∫–µ–Ω—ã
- –†–∞—Å—Å—ã–ª–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ WebSocket
- –•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –æ —á–µ–∫–∞—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- Spring Boot
- Spring Web
- Spring Security
- Spring Data JPA
- Spring WebSocket
- Spring Actuator
- Spring Shell
- PostgreSQL / H2

### üü¢ Models
–û–±—â–∏–π –º–æ–¥—É–ª—å —Å –º–æ–¥–µ–ª—è–º–∏ –¥–∞–Ω–Ω—ã—Ö:
- `ChequeWriteRequest` ‚Äî –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —á–µ–∫–∞
- `ChequeModel` ‚Äî –º–æ–¥–µ–ª—å —á–µ–∫–∞
- `ChequeContainer` ‚Äî sealed interface –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —á–µ–∫–æ–≤
- `XRocketMC` ‚Äî —á–µ–∫–∏ –æ—Ç XRocket –±–æ—Ç–∞
- –†–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏ —É—Ç–∏–ª–∏—Ç—ã

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- Jackson Kotlin Module

## üì¶ –ê—Ä—Ö–∏–≤–Ω—ã–µ –º–æ–¥—É–ª–∏

–°–ª–µ–¥—É—é—â–∏–µ –º–æ–¥—É–ª–∏ —è–≤–ª—è—é—Ç—Å—è –∞—Ä—Ö–∏–≤–Ω—ã–º–∏ –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏:
- `rest-api` ‚Äî —Å—Ç–∞—Ä–∞—è REST API —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- `tcp-client` ‚Äî TCP –∫–ª–∏–µ–Ω—Ç
- `tcp-server` ‚Äî TCP —Å–µ—Ä–≤–µ—Ä
- `tcp-protocol` ‚Äî TCP –ø—Ä–æ—Ç–æ–∫–æ–ª
- `workers` ‚Äî –≤–æ—Ä–∫–µ—Ä—ã

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- JDK 21+
- Gradle 9.x
- PostgreSQL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å H2)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone <repository-url>
cd chequeman
```

2. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
```bash
./gradlew build
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Client

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `client/resources/application.properties` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

```properties
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
# –í–∞—Ä–∏–∞–Ω—Ç 1: PostgreSQL
spring.datasource.url=jdbc:postgresql://<host>:<port>/<database>
spring.datasource.username=<–ª–æ–≥–∏–Ω>
spring.datasource.password=<–ø–∞—Ä–æ–ª—å>

# –í–∞—Ä–∏–∞–Ω—Ç 2: H2 (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
# spring.datasource.url=jdbc:h2:file:./testdb2

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
http.url=https://your-server.com

# WebSocket –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
websocket.url=wss://your-server.com/ws
websocket.token=<websocket_token>

# Telegram Bot –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —á–µ–∫–æ–≤
telegram.token=<—Ç–æ–∫–µ–Ω –±–æ—Ç–∞ —Ç–≥>
telegram.group=<–∞–π–¥–∏ –∫–∞–Ω–∞–ª–∞ –Ω–∞—á–∏–Ω–∞—è —Å -100>
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Server

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `server/resources/application.properties`:

```properties
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
spring.datasource.url=jdbc:postgresql://<host>:<port>/<database>
spring.datasource.username=<–ª–æ–≥–∏–Ω>
spring.datasource.password=<–ø–∞—Ä–æ–ª—å>

# –ò–ª–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
# spring.datasource.url=jdbc:h2:file:./database
```

### –ó–∞–ø—É—Å–∫

**–°–µ—Ä–≤–µ—Ä:**
```bash
./gradlew :server:bootRun
```

**–ö–ª–∏–µ–Ω—Ç:**
```bash
./gradlew :client:bootRun
```

## üîß –°–±–æ—Ä–∫–∞

–°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π:
```bash
./gradlew build
```

–°–±–æ—Ä–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –º–æ–¥—É–ª—è:
```bash
./gradlew :client:build
./gradlew :server:build
./gradlew :models:build
```

–°–æ–∑–¥–∞–Ω–∏–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã—Ö JAR —Ñ–∞–π–ª–æ–≤:
```bash
./gradlew :client:bootJar
./gradlew :server:bootJar
```

–ì–æ—Ç–æ–≤—ã–µ JAR —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `build/`:
- `client.jar`
- `server.jar`
- `models.jar`

## üîë API

### Server REST API

#### –ó–∞–ø–∏—Å—å —á–µ–∫–∞
```http
POST /api/cheques
Authorization: Bearer <token>
Content-Type: application/json

{
  "bot": "xrocket",
  "link": "https://t.me/...",
  "source": "channel_id",
  "sourceTitle": "Channel Name",
  "message": "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è",
  "markdownMessage": "**Markdown** —Ç–µ–∫—Å—Ç"
}
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ —á–µ–∫–æ–≤
```http
GET /api/cheques?bot=xrocket
Authorization: Bearer <token>
```

### WebSocket

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```
wss://your-server.com/ws?token=<websocket_token>
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
chequeman/
‚îú‚îÄ‚îÄ client/          # –ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îî‚îÄ‚îÄ io/chequeman/client/
‚îÇ           ‚îú‚îÄ‚îÄ ClientApplication.kt    # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å
‚îÇ           ‚îú‚îÄ‚îÄ telegram/               # Telegram –±–æ—Ç
‚îÇ           ‚îú‚îÄ‚îÄ http/                   # HTTP –∫–ª–∏–µ–Ω—Ç
‚îÇ           ‚îú‚îÄ‚îÄ websocket/              # WebSocket –∫–ª–∏–µ–Ω—Ç
‚îÇ           ‚îî‚îÄ‚îÄ workers/                # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —á–µ–∫–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ server/          # –°–µ—Ä–≤–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îî‚îÄ‚îÄ io/chequeman/server/
‚îÇ           ‚îú‚îÄ‚îÄ ChequeApplication.kt    # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å
‚îÇ           ‚îú‚îÄ‚îÄ http/                   # REST –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ           ‚îú‚îÄ‚îÄ workers/                # –í–æ—Ä–∫–µ—Ä—ã –±–æ—Ç–æ–≤
‚îÇ           ‚îî‚îÄ‚îÄ auth/                   # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ
‚îî‚îÄ‚îÄ models/          # –û–±—â–∏–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
    ‚îî‚îÄ‚îÄ src/
        ‚îî‚îÄ‚îÄ io/chequeman/models/
            ‚îî‚îÄ‚îÄ ChequeModels.kt         # –ú–æ–¥–µ–ª–∏ —á–µ–∫–æ–≤
```

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **–Ø–∑—ã–∫:** Kotlin 2.x
- **Framework:** Spring Boot 3.x
- **JVM:** Java 21
- **Build Tool:** Gradle (Kotlin DSL)
- **–ë–î:** PostgreSQL, H2
- **ORM:** Spring Data JPA
- **WebSocket:** Spring WebSocket
- **Telegram:** Telegram Bot API
- **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:** JSON (Jackson)

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç MIT –ª–∏—Ü–µ–Ω–∑–∏—é. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ —Ñ–∞–π–ª–µ LICENSE.

